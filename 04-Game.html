<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <title>å¡ç‰‡é…å°éŠæˆ²</title>
  <link rel="stylesheet" href="style.css" type="text/css">
</head>

<body>

  <div class="menu">
    <a href="index.html"><img src="images/é¸å–®1.jpg" alt="æŒ‰éˆ•1"></a>
    <a href="02-Game.html"><img src="images/é¸å–®2.jpg" alt="æŒ‰éˆ•2"></a>
    <a href="03-Test.html"><img src="images/é¸å–®3.jpg" alt="æŒ‰éˆ•3"></a>
    <a href="04-Game.html"><img src="images/é¸å–®4.jpg" alt="æŒ‰éˆ•4"></a>
    <a href="05-Else.html"><img src="images/é¸å–®5.jpg" alt="æŒ‰éˆ•5"></a>
  </div>

  <div class="divider">
    <img src="images/åˆ†éš”ç·š2.jpg" alt="åˆ†éš”ç·š">
  </div>

  <div class="title-section">
    <img src="images/æ¨™é¡Œ4.jpg" alt="æ¨™é¡Œ4">
  </div>

  <div id="question"></div>
  <div id="feedback"></div>
  <input type="number" id="answer-input">
  <button id="check-btn">æª¢æŸ¥ç­”æ¡ˆ</button>
  
  <button id="next-btn" style="display:none;">ä¸‹ä¸€é¡Œ</button>
  

  <script>
    let correctAnswer = 0;

    function numberToImage(n) {
      return `<img src="images/${n}.jpg" alt="${n}" class="number-img">`;
    }

    function symbolToImage(symbol) {
      let filename = '';
      if (symbol === '+') filename = 'plus';
      else if (symbol === '-') filename = 'minus';
      else if (symbol === '=') filename = 'equal';
      return `<img src="images/${filename}.jpg" alt="${symbol}" class="number-img">`;
    }

    function getRandomQuestion() {
      let a = Math.floor(Math.random() * 11);
      let b = Math.floor(Math.random() * 11);
      let operator = Math.random() < 0.5 ? '+' : '-';

      if (operator === '-' && a < b) [a, b] = [b, a];

      return { a, b, operator };
    }

    function renderQuestion(a, operator, b) {
      correctAnswer = operator === '+' ? a + b : a - b;
      const html = `
        ${numberToImage(a)}
        ${symbolToImage(operator)}
        ${numberToImage(b)}
        ${symbolToImage('=')}
        <img src="images/question_mark.jpg" alt="?" class="number-img">
      `;
      document.getElementById("question").innerHTML = html;
      document.getElementById("feedback").innerText = '';
      document.getElementById("answer-input").value = '';
      document.getElementById("next-btn").style.display = "none";
      document.getElementById("check-btn").style.display = 'inline-block';
    }

    function generateNewQuestion() {
      const { a, b, operator } = getRandomQuestion();
      renderQuestion(a, operator, b);
    }

    document.getElementById("check-btn").addEventListener("click", function () {
      const userAnswer = parseInt(document.getElementById("answer-input").value, 10);
      const feedback = document.getElementById("feedback");
      feedback.style.fontSize = "36px";
      if (isNaN(userAnswer)) {
        feedback.innerText = "è«‹è¼¸å…¥ç­”æ¡ˆï¼";
        feedback.style.color = "orange";
        return;
      }

      if (userAnswer === correctAnswer) {
        feedback.innerText = "ç­”å°äº†ï¼ğŸ‰ é»é¸ã€Œä¸‹ä¸€é¡Œã€";
        feedback.style.color = "green";
        document.getElementById("next-btn").style.display = "inline-block";
        document.getElementById("check-btn").style.display = 'none';
      } else {
        feedback.innerText = `ç­”éŒ¯äº†ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ ${correctAnswer}ã€‚`;
        feedback.style.color = "red";
      }
    });

    // ä¸‹ä¸€é¡ŒæŒ‰éˆ•äº‹ä»¶
    document.getElementById("next-btn").addEventListener("click", function () {
      generateNewQuestion();
    });

    // é¡¯ç¤ºç¬¬ä¸€é¡Œ
    generateNewQuestion();
  </script>


</body>

</html>