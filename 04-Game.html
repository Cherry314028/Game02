<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <title>å¡ç‰‡é…å°éŠæˆ²</title>
  <link rel="stylesheet" href="style.css" type="text/css">
</head>

<body>

  <div class="menu">
    <a href="index.html"><img src="images/é¸å–®1.jpg" alt="æŒ‰éˆ•1"></a>
    <a href="02-Game.html"><img src="images/é¸å–®2.jpg" alt="æŒ‰éˆ•2"></a>
    <a href="03-Test.html"><img src="images/é¸å–®3.jpg" alt="æŒ‰éˆ•3"></a>
    <a href="04-Game.html"><img src="images/é¸å–®4.jpg" alt="æŒ‰éˆ•4"></a>
    <a href="05-Else.html"><img src="images/é¸å–®5.jpg" alt="æŒ‰éˆ•5"></a>
  </div>

  <div class="divider">
    <img src="images/åˆ†éš”ç·š2.jpg" alt="åˆ†éš”ç·š">
  </div>

  <div class="title-section">
    <img src="images/æ¨™é¡Œ4.jpg" alt="æ¨™é¡Œ4">
  </div>

  <div id="question"></div>
  <input type="number" id="answer-input" placeholder="ï¼Ÿ" min="0" max="20">
  <button id="check-btn">æª¢æŸ¥ç­”æ¡ˆ</button>
  <div id="feedback"></div>

  <script>
    let correctAnswer = 0;

    // å°‡æ•¸å­—è½‰æ›æˆå°æ‡‰çš„åœ–ç‰‡ HTML
    function numberToImage(n) {
      return `<img src="images/${n}.jpg" alt="${n}" class="number-img">`;
    }

    // å°‡ç¬¦è™Ÿè½‰æ›æˆå°æ‡‰çš„åœ–ç‰‡ HTML
    function symbolToImage(symbol) {
      let filename = '';
      if (symbol === '+') filename = 'plus';
      else if (symbol === '-') filename = 'minus';
      else if (symbol === '=') filename = 'equal';
      return `<img src="images/${filename}.jpg" alt="${symbol}" class="number-img">`;
    }

    // ç”¢ç”Ÿéš¨æ©Ÿé¡Œç›®
    function getRandomQuestion() {
      let a = Math.floor(Math.random() * 11); // 0~10
      let b = Math.floor(Math.random() * 11); // 0~10
      let operator = Math.random() < 0.5 ? '+' : '-';

      // å¦‚æœæ˜¯æ¸›æ³•ä¸” a < bï¼Œäº¤æ›ä»¥é¿å…è² æ•¸
      if (operator === '-' && a < b) {
        [a, b] = [b, a];
      }

      return { a, b, operator };
    }

    // é¡¯ç¤ºé¡Œç›®ä¸¦æ›´æ–°æ­£ç¢ºç­”æ¡ˆ
    function renderQuestion(a, operator, b) {
      correctAnswer = operator === '+' ? a + b : a - b;
      const html = `
        ${numberToImage(a)}
        ${symbolToImage(operator)}
        ${numberToImage(b)}
        ${symbolToImage('=')}
        <img src="images/question_mark.jpg" alt="?" class="number-img">
      `;
      document.getElementById("question").innerHTML = html;
      document.getElementById("feedback").innerText = '';
      document.getElementById("answer-input").value = '';
    }

    // ç”¢ç”Ÿä¸¦é¡¯ç¤ºä¸‹ä¸€é¡Œ
    function generateNewQuestion() {
      const { a, b, operator } = getRandomQuestion();
      renderQuestion(a, operator, b);
    }

    // æª¢æŸ¥ç­”æ¡ˆæŒ‰éˆ•é»æ“Šäº‹ä»¶
    document.getElementById("check-btn").addEventListener("click", function () {
      const userAnswer = parseInt(document.getElementById("answer-input").value, 10);
      const feedback = document.getElementById("feedback");

      if (isNaN(userAnswer)) {
        feedback.innerText = "è«‹è¼¸å…¥ç­”æ¡ˆï¼";
        feedback.style.color = "orange";
        return;
      }

      if (userAnswer === correctAnswer) {
        feedback.innerText = "ç­”å°äº†ï¼ğŸ‰ ä¸‹ä¸€é¡Œ...";
        feedback.style.color = "green";
        setTimeout(() => {
          generateNewQuestion();
        }, 1500); // 1 ç§’å¾Œåˆ‡æ›ä¸‹ä¸€é¡Œ
      } else {
        feedback.innerText = `ç­”éŒ¯äº†ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ ${correctAnswer}ã€‚`;
        feedback.style.color = "red";
      }
    });

    // é¡¯ç¤ºç¬¬ä¸€é¡Œ
    generateNewQuestion();
  </script>


</body>

</html>